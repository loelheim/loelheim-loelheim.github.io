<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8cc92189b8f4f159b763.css" data-identity="gatsby-global-css">@import url(http://fonts.googleapis.com/earlyaccess/notosanskr.css);@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;line-height:1.15}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-3xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily:-apple-system,BlinkMacSystemFont,"Noto Sans KR","Helvetica Neue","Roboto","Segoe UI","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans",sans-serif;--font-body:var(--fontFamily);--font-heading:var(--fontFamily);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#2e353f;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5;--tag-color:#f7f8fc;--tag-highlight-color:#a9a9a9}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal);scroll-behavior:smooth}body{color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post li{margin-left:1rem}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.table-of-contents{align-self:start;border-left:1px solid #efefef;padding-left:0;position:-webkit-sticky;position:sticky;top:2rem}.table-of-contents a{color:#ccc;display:block;padding:.125rem 0;text-decoration:none;transition:all 50ms ease-in-out}.table-of-contents a:focus,.table-of-contents a:hover{color:#666}.table-of-contents ol,.table-of-contents ul{list-style:none;margin:0;padding:0}.table-of-contents li{margin-left:1rem}.table-of-contents .active{color:#333;font-weight:500}.gatsby-highlight{margin-bottom:var(--spacing-8)}.toolbar .title{display:inline;font-size:xx-large;position:relative}.menu{float:right}.menu>*{font-size:xx-large;margin-left:10px}.search-box{border:2px solid grey;border-radius:30px;float:left}.search-box:hover>.search-text{margin-left:20px;width:300px}.search-button{align-items:center;background:none;border-radius:50%;display:flex;height:30px;justify-content:center;transition:all .4s;width:30px}.search-text{background:none;border:none;float:left;font-size:16px;line-height:30px;outline:none;padding:0;transition:.4s;width:0}.tag{background-color:var(--tag-color);border:2px solid #a9a9a9;border-radius:10px;color:var(--tag-highlight-color);line-height:2.5;margin-right:5px;padding:4px 8px;white-space:nowrap}.tag:link{text-decoration:none}.tag:hover{background-color:var(--tag-highlight-color);color:var(--tag-color);transform:scale(1.2)}@media screen and (max-width:110rem){.table-of-contents{display:none}}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}:not(pre)>code[class*=language-]{background:#e3e9ee;border:1.2px solid #2d76c9;border-radius:.3em;color:#2d76c9;margin:0 .1em;padding:.11em .3em;white-space:normal}</style><meta name="generator" content="Gatsby 4.3.0"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">개츠비로 블로그 시작하기 - 커스터마이징 (1) | loelheim</title><meta data-react-helmet="true" name="description" content="개츠비로 시작하는 블로그, 글쓰기 기능을 추가해보자"/><meta data-react-helmet="true" property="og:title" content="개츠비로 블로그 시작하기 - 커스터마이징 (1)"/><meta data-react-helmet="true" property="og:description" content="개츠비로 시작하는 블로그, 글쓰기 기능을 추가해보자"/><meta data-react-helmet="true" property="og:type" content="website"/><link as="script" rel="preload" href="/webpack-runtime-c580888eb32eb323ac10.js"/><link as="script" rel="preload" href="/framework-91fcb8688cfb06592c2c.js"/><link as="script" rel="preload" href="/app-99111e41c9be7a3b0c6b.js"/><link as="script" rel="preload" href="/cb1608f2-a114316b1cb3096fafcd.js"/><link as="script" rel="preload" href="/2852872c-b2b17e6d0848f7e31174.js"/><link as="script" rel="preload" href="/commons-93657fdebe4187bbe246.js"/><link as="script" rel="preload" href="/573b27ab57743726e9d32c2d29ca767494f9c99f-fce3248f1a042b2435ab.js"/><link as="script" rel="preload" href="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-609403dfd4c51ec95e7c.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-40445c3deb5430fd6690.js"/><link as="fetch" rel="preload" href="/page-data/2021_11/03_gatsby_customization_1_writing/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3000541721.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3274528899.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><div class="toolbar"><h2 class="title"><a href="/"></a></h2><div class="menu"><div class="search-box"><input type="text" class="search-text" placeholder="search" value=""/><div class="search-button"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width:15px"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg></div></div></div></div></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">개츠비로 블로그 시작하기 - 커스터마이징 (1)</h1><p>2021년 11월 26일 21:36:31</p></header><section itemProp="articleBody"><h3 id="1-들어가기에-앞서" style="position:relative;"><a href="#1-%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C" aria-label="1 들어가기에 앞서 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 들어가기에 앞서</h3>
<p>지금까지 변경한 내용은 기본적인 파일을 수정하는 것에 불과하다.
하지만 스타터로 시작했음에도 불구하고 여전히 타 블로그 플랫폼에 비하면 제공하는 것이 너무나도 적다.</p>
<p>그래서 직접 코드를 추가해야만 제대로 된 기능을 사용할 수 있다.
간단하게 글 쓰기 위해 시작한 것이지만 오히려 커스터마이징을 위해 삽질하는 꼴이라니 … 어쨋거나 시작한 이상 끝을 봐야겠다.</p>
<h3 id="2-블로그-템플릿" style="position:relative;"><a href="#2-%EB%B8%94%EB%A1%9C%EA%B7%B8-%ED%85%9C%ED%94%8C%EB%A6%BF" aria-label="2 블로그 템플릿 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 블로그 템플릿</h3>
<p><code class="language-text">templates/blog-post.js</code>는 포스트의 레이아웃을 지정하는 레이아웃 파일이다.
여기에 코드를 추가하여 원하는 형태의 페이지를 구성할 수 있다.</p>
<h3 id="3-추가할-기능-리스트업" style="position:relative;"><a href="#3-%EC%B6%94%EA%B0%80%ED%95%A0-%EA%B8%B0%EB%8A%A5-%EB%A6%AC%EC%8A%A4%ED%8A%B8%EC%97%85" aria-label="3 추가할 기능 리스트업 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 추가할 기능 리스트업</h3>
<p>작업하기 전에 내가 원하는 기능을 먼저 나열해보는 것이 좋을 것 같다.
이전에 봤던 스타터에서 참고하여 내가 추가하고자 하는 기능을 나열해봤다.</p>
<ul>
<li>글쓰기 기능 추가</li>
<li>TOC - Table of Contents</li>
<li>태그 관련 기능</li>
<li>댓글</li>
<li>검색</li>
</ul>
<p>어떤 기능을 구현하려고 하더라도 글 작성이 되어야 다른 작업들이 가능하기 때문에 글쓰기 기능부터 추가하는 것이 좋을 것 같다.</p>
<h3 id="4-글쓰기-기능-분석" style="position:relative;"><a href="#4-%EA%B8%80%EC%93%B0%EA%B8%B0-%EA%B8%B0%EB%8A%A5-%EB%B6%84%EC%84%9D" aria-label="4 글쓰기 기능 분석 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 글쓰기 기능 분석</h3>
<p>블로그 데이터는 <code class="language-text">content/blog</code> 하위에 있으며, 두 가지 방식으로 구성 가능하다.</p>
<ul>
<li><code class="language-text">{블로그 제목}</code> 으로 폴더 이름을 정하고 하위에 <code class="language-text">index.md</code> 파일을 추가하는 방식</li>
<li><code class="language-text">{블로그 제목}.md</code> 단일 파일 방식</li>
</ul>
<p>첨부 파일을 포스트마다 관리하려면 폴더 형태로 관리하는 방식이 조금 더 나아보인다.</p>
<p>이미 지웠을지도 모르겠지만 <code class="language-text">content/blog</code>에 있던 샘플 포스트를 보다보면 <code class="language-text">--- ~ ---</code> 사이에 포스트의 요약 정보를 표현하는 데이터가 존재한다. 예를 들면 이런 식이다.</p>
<div class="gatsby-highlight" data-language="markdown"><pre class="language-markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token font-matter yaml language-yaml">title: 개츠비로 블로그 시작하기 - 플랫폼 선정
description: 개츠비로 시작하는 블로그, 어떤 플랫폼이 좋을까?
date: 2021-11-23T16:24:42.627Z</span>
<span class="token punctuation">---</span></span></code></pre></div>
<p>해당 정보를 <code class="language-text">Frontmatter</code>라고 하는 것 같다.
<code class="language-text">gatsby-node.js</code>의 <code class="language-text">createSchemaCustomization</code>에 선언된 <code class="language-text">Frontmatter</code> 스키마로 형태가 정의되는데, 스키마를 확장하여 태그를 지정하고 그에 맞는 템플릿을 불러오도록 하는 경우도 있다.</p>
<p>블로그의 메타 데이터를 기록하는 것을 포함하여 제목을 여기서 새로 정의하는 것도 가능하다.
하지만 <code class="language-text">Frontmatter</code>에서 제목을 수정하더라도 접근 경로는 파일명으로 접근 가능하니 이 부분은 알아두면 좋다.</p>
<p>결국에 글쓰기 기능이라는 것은 아래 두 가지를 구현하면 된다.</p>
<ul>
<li>블로그 작성에 필요한 폴더 추가 및 <code class="language-text">index.md</code> 추가</li>
<li><code class="language-text">Frontmatter</code>를 자동으로 추가해주는 스크립트 혹은 기능</li>
</ul>
<p>참고로 공식 홈페이지에서 <a href="https://www.gatsbyjs.com/plugins/?=frontmatter">관련 플러그인 라이브러리를 찾아보니</a> 마땅한 것은 없었고, 스타터를 여럿 분석하다보니 <code class="language-text">Frontmatter</code>를 포함해서 글을 작성해주는 기능을 <a href="https://github.com/JaeYeopHan/gatsby-post-gen">gatsby-post-gen</a> 라는 별도로 분리된 플러그인을 찾았다.
<code class="language-text">개츠비</code>에 대한 의존성도 없어보였고, 해당 플러그인을 설치하고 관련 커맨드를 추가하면 쉽게 사용할 수 있다.</p>
<p><del>하지만 해당 플러그인은 추후에 구현할 태그에 대한 메타 정보를 추가하려면 수정이 필요했고, 카테고리의 물리적 경로와 메타 정보가 결합된 구조인 것 같아서 새로 만드는게 좋겠다고 생각했다.</del></p>
<p>원래 카테고리라는 필드를 새로 파서 할당하는 식으로 구성하려고 했는데, 블로그 컴파일 타임 시점 외에는 <code class="language-text">개츠비</code>의 정보를 받아올 방법이 없었다. <code class="language-text">GraphQL</code>로 다 되는줄 알았는데 구현해놓고 보니 아래 같은 에러가 뜬다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">/Users/loel/Documents/blog/loelheim/node_modules/gatsby/cache-dir/commonjs/gatsby-browser-entry.js:106
  throw new Error(`It appears like Gatsby is misconfigured. Gatsby related \`graphql\` calls ` + `are supposed to only be evaluated at compile time, and then compiled away. ` + `Unfortunately, something went wrong and the query was left in the compiled code.\n\n` + `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`);
        ^

Error: It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away. Unfortunately, something went wrong and the query was left in the compiled code.

Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.
    at graphql (/Users/loel/Documents/blog/loelheim/node_modules/gatsby/cache-dir/commonjs/gatsby-browser-entry.js:106:9)
    at inquiryCategory (/Users/loel/Documents/blog/loelheim/scripts/frontman/index.js:90:40)
    at /Users/loel/Documents/blog/loelheim/scripts/frontman/index.js:203:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)</code></pre></div>
<p>뭔가 컴파일 처리가 된 시점에만 설정같은게 잘 동작하는 구조이며, 서버를 띄웠을 때 쿼리에 응답할 수 있는 것 같으니 아쉽지만 이 기능은 생략해야 할 것 같다.</p>
<p>참고로 전반적인 구조와 코드에 대해서는 후술하겠지만, 대략 이런 코드를 작성하려고 했었다. 쿼리는 에디터에서 잘 동작했었기 때문에 나름 아쉬웠다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">inquiryCategory</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useStaticQuery</span><span class="token punctuation">(</span>graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        query {
          allMarkdownRemark {
            edges {
              node {
                frontmatter {
                  category
                }
              }
            }
          }
        }
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> categories <span class="token operator">=</span> data<span class="token punctuation">.</span>allMarkdownRemark<span class="token punctuation">.</span>edges<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">edge</span><span class="token punctuation">)</span> <span class="token operator">=></span> edge<span class="token punctuation">.</span>node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>category<span class="token punctuation">)</span>
    <span class="token keyword">const</span> choices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">CATEGORY_NEW</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>categories<span class="token punctuation">)</span><span class="token punctuation">]</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> category <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        choices
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>category <span class="token operator">!==</span> <span class="token constant">CATEGORY_NEW</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">const</span> <span class="token punctuation">{</span> newCategory <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'newCategory'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token string">'⚠️  category is empty !'</span>   
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token constant">CATEGORY_NEW</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token string">'⚠️  category is invalid !'</span>   
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>categories<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token string">'⚠️  same category already exists !'</span>   
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> newCategory
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> category
<span class="token punctuation">}</span></code></pre></div>
<p>어쨋거나 글쓰기 기능에 필요한 부분을 검토해보면 아래 프로세스와 같이 진행되면 될 것으로 보인다.</p>
<ul>
<li>
<p><code class="language-text">Frontmatter</code>를 구성하는 데이터를 입력받을 수 있도록 cli 형태로 구성한다.</p>
<ul>
<li>제목 (String) : 필수로 입력하도록 유도</li>
<li>설명 (String?) : 빈 값이어도 통과</li>
<li>파일명 (String) : 빈 값이면 제목을 활용하며, 파일 경로로 적합하지 않으면 재입력</li>
<li>날짜 (String) : 포스트를 생성하는 시점에 자동 생성하여 ISO 포맷으로 생성</li>
<li>태그 (Array<String>?) : <code class="language-text">,</code> 단위로 분리하고 양 끝에 포함된 공백만 제거</li>
</ul>
</li>
<li>
<p>입력받은 데이터와 포맷을 고려하여 새로운 포스트를 위한 폴더와 파일을 생성한다.</p>
</li>
<li>
<p>cli 커맨드로 위 프로세스가 실행될 수 있도록 연결한다.</p>
</li>
</ul>
<p>대략적으로 입력한 결과에 유형별로 검증 메서드를 인자로 제공하고 정제하는 과정을 거친 결과를 모아둔 후, 이 결과를 바탕으로 폴더랑 파일을 생성하고 <code class="language-text">Frontmatter</code>를 추가하면 끝날 것 같다.</p>
<h3 id="5-글쓰기-기능-구현" style="position:relative;"><a href="#5-%EA%B8%80%EC%93%B0%EA%B8%B0-%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84" aria-label="5 글쓰기 기능 구현 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 글쓰기 기능 구현</h3>
<p>모든 개발 작업에서 가장 어려운 부분은 <code class="language-text">작명</code>이다.</p>
<p>일단 블로그에 필요한 가장 처음 단계에 해당하기도 하고, <code class="language-text">Frontmatter</code>랑 비슷하게 이름 지으려고 하다보니 <code class="language-text">Frontman</code>이 생각났다.
그래서 <code class="language-text">scripts/frontman</code> 폴더를 추가하고 안에 <code class="language-text">index.js</code> 파일을 추가했다.</p>
<p>그 다음에는 <code class="language-text">npm</code> 커맨드를 추가했다.
<code class="language-text">script</code> 블록에 <code class="language-text">"post": "node scripts/frontman",</code>를 추가하면 <code class="language-text">npm run post</code>로 <code class="language-text">index.js</code>의 내용을 수행할 수 있다.</p>
<p>이제 <code class="language-text">Frontmatter</code> 스키마에 정보를 추가할 차례다.</p>
<p><code class="language-text">gatsby-node.js</code>의 <code class="language-text">createSchemaCustomization</code>에 있는 <code class="language-text">createTypes</code>을 보면 관련 스키마가 정의되어 있는 것을 볼 수 있다. 여기에 <code class="language-text">tags</code> 정보를 추가하면 끝이다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">type Frontmatter {
  title: String
  description: String
  tags: [String]
  date: Date @dateformat
}</code></pre></div>
<p>다음은 로직의 기본적인 뼈대를 보자. 필요한 정보들을 사용자에게 전달받아서 파일을 생성하는 단순한 구조라 보면 되겠다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">inquiryTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> description <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">inquiryDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">inquiryPath</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> now<span class="token punctuation">)</span>
    <span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">inquiryTags</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> date <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> frontmatter <span class="token operator">=</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">,</span>
        description<span class="token punctuation">,</span>
        tags<span class="token punctuation">,</span>
        date
    <span class="token punctuation">}</span>

    <span class="token function">createFrontmatter</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> frontmatter<span class="token punctuation">,</span> now<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>다음은 제목을 입력받는 메서드인 <code class="language-text">inqueryTitle</code>를 살펴보자.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">inquiryTitle</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
         type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
         name<span class="token operator">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span>
         <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value <span class="token operator">||</span> value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">'⚠️  title is empty !'</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">'.'</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">'..'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">'⚠️  title is invalid !'</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span>
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> title<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>입력을 받기 위해서 <code class="language-text">inquirer</code>를 사용했는데, 이미 <code class="language-text">개츠비</code>에서 쓰고 있어서 별도로 의존성을 설치할 필요는 없었다.
이번 글쓰기 기능 추가를 위해 <code class="language-text">inquirer</code>를 사용하는데 있어서 주로 관심을 가질만한 부분은 다음과 같다.</p>
<ul>
<li>type: 입력 형식을 의미하며 <code class="language-text">input</code>, <code class="language-text">list</code> 만으로도 충분히 구현 가능</li>
<li>name: 입력할 데이터의 키 값을 의미하며, 받아온 결과를 <code class="language-text">구조 분해 - destructuring</code>할 값으로 사용</li>
<li>validate: 들어온 값을 검증할 목적으로 사용하며, <code class="language-text">return true</code>를 받지 않는 경우에 대해서는 안내 메시지로 튕긴 후 재입력을 받도록 함</li>
<li>default : 입력 시 기본 값을 지정</li>
<li>choices: <code class="language-text">type = list</code>일 때, 선택할 목록을 지정</li>
</ul>
<p>모든 데이터가 위 내용으로 충분히 커버되기 때문에 이후에는 이와 관련된 로직을 따로 설명하진 않을 것이다.
<code class="language-text">title</code>을 경로로 사용하게 된다면 <code class="language-text">현재 폴더 - .</code>와 <code class="language-text">상위 폴더 - ..</code>를 사용할 수 없기 때문에 이에 대한 로직만 추가했다.</p>
<p>다음은 <code class="language-text">description</code> 내용이며, 해당 정보는 필수가 아니기 때문에 별다른 로직이 없다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">inquiryDescription</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> description <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'description'</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>

   <span class="token keyword">return</span> description<span class="token operator">?.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>그나마 작업을 하는데 공을 들였던(?) 파일 경로 설정이다.
기존 스타터는 제목을 정규화하고 불필요한 텍스트를 제거해서 파일으로 사용했는데, 나는 직접 입력받기로 했으며 아래 내용을 고려했었다.</p>
<ul>
<li>직접 파일명을 지정하고 싶었으며, 귀찮을 것을 대비해 제목을 <code class="language-text">default</code> 인자로 제공하여 기본값을 세팅하면 좋겠다</li>
<li>포스트마다 폴더 단위로 구성하고 그 안에 리소스가 있었으면 하는 생각이 들어 단일 파일 구조보다는 폴더 구조를 고려했다</li>
<li>이런 구조의 특성상 경로 중복 체크도 포함되면 좋겠단 생각이 들었다</li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">inquiryPath</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">title<span class="token punctuation">,</span> date</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> pathname <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'pathname'</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> title<span class="token punctuation">,</span>
        message<span class="token operator">:</span> <span class="token string">'pathname (alphanumeric except some special characters): '</span><span class="token punctuation">,</span>
        <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">'⚠️  pathname is empty !'</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">validPath</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">'⚠️  pathname is invalid !'</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">const</span> destination <span class="token operator">=</span> <span class="token function">buildDestinationPath</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> date<span class="token punctuation">)</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>

                fs<span class="token punctuation">.</span><span class="token function">accessSync</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">R_OK</span> <span class="token operator">|</span> fs<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">W_OK</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token string">'⚠️  pathname is in use !'</span>

            <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token function">refinePath</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>alpha-numeric 값과 일부 값만 허용한다고 안내를 했으나 사실 정규식으로 허용하는 문자열을 상당히 제한했으며, 이는 <code class="language-text">validPath</code>와 <code class="language-text">refinePath</code>에 잘 녹여져 있다.
정규식에서는 숫자, 영어, 한글, 공백, 소괄호 및 하이픈만 허용하기로 했으며, 마지막에서 정제할 때 해당 문자를 모두 언더스코어로 대체하게끔 구성했다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> directory <span class="token operator">=</span> <span class="token string">'/content/blog'</span>
<span class="token keyword">const</span> regexPath <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9a-zA-Z가-힣 \(\)\-_]+$</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> regexToRefine <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^0-9a-zA-Z가-힣 \(\)\-]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>

<span class="token keyword">const</span> <span class="token function-variable function">validPath</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> regexPath<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">refinePath</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>regexToRefine<span class="token punctuation">,</span> <span class="token string">'_'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">buildDestinationPath</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pathname<span class="token punctuation">,</span> date</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> directory<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> pathname<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">buildDestinationPath</code>에서는 날짜를 받아서 처리하는데, 아무래도 상위에 카테고리가 없는 구조로 작업하다보니 너무 파일이 관리가 안될 것 같다는 생각에 <code class="language-text">작성연월</code>까지만 폴더 단위로 구성하기로 생각했고 해당 경로가 있는지 여부를 <code class="language-text">fs.accessSync</code>로 체크했다.</p>
<p>거의 다 끝났다. 태그는 <code class="language-text">inquirer</code>의 도움을 받기 쉽지 않아서 단일 문자열로 받고 정제해서 사용하기로 했다. 가장 간편한건 콤마로 구분하고 공백을 제거하여 배열 형태로 구성하는 것이다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">inquiryTags</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    
    <span class="token keyword">const</span> <span class="token punctuation">{</span> tags <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">'tags'</span><span class="token punctuation">,</span>
        message<span class="token operator">:</span> <span class="token string">'tags (multiple tags concatenated with comma): '</span><span class="token punctuation">,</span>
        <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">'⚠️  tag string is empty !'</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> tags<span class="token operator">?.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">tag</span> <span class="token operator">=></span> tag<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>최소한 태그를 하나 이상 지정하여 카테고리의 역할을 겸하도록 했으며, 들어온 문자열을 콤마로 구분한 후 <code class="language-text">trim</code> 메서드로 공백을 제거하면 간단하게 해결된다.</p>
<p>마지막으로 실제로 생성하는 로직이다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">createFromTemplate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">frontmatter</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">---
title: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
description: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>description<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
tags: [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">'</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]
date: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>date<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
---</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">printFrontmatter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">frontmatter</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> > title: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> > description: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>description <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> > tags: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>tags<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> > date: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>frontmatter<span class="token punctuation">.</span>date<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> 🚀  now your new post is ready !</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">]</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>contents<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">createFrontmatter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pathname<span class="token punctuation">,</span> frontmatter<span class="token punctuation">,</span> date</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token function">createFromTemplate</span><span class="token punctuation">(</span>frontmatter<span class="token punctuation">)</span>
    <span class="token keyword">const</span> destination <span class="token operator">=</span> <span class="token function">buildDestinationPath</span><span class="token punctuation">(</span>pathname<span class="token punctuation">,</span> date<span class="token punctuation">)</span>
    <span class="token keyword">const</span> filepath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> <span class="token string">'index.md'</span><span class="token punctuation">)</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">mkdirSync</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> <span class="token punctuation">{</span> recursive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> contents<span class="token punctuation">)</span>

        <span class="token function">printFrontmatter</span><span class="token punctuation">(</span>frontmatter<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'🚨  something went wrong !'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>전달받은 정보를 형식에 맞게 채워넣어 <code class="language-text">Frontmatter</code> 정보를 생성하고 지정한 경로 및 파일 이름의 폴더를 만든 다음 <code class="language-text">index.md</code>에 생성한 데이터를 써넣으면 모든 과정이 끝난다.
그 외의 나머지 내용은 보기 좋으라고 만든 것이니 생략 …</p>
<p>얼추 글쓰기는 완료된 것 같으니 <code class="language-text">TOC - Table of Contents</code> 기능을 추가해보자.</p>
<h3 id="reference" style="position:relative;"><a href="#reference" aria-label="reference permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference</h3>
<ul>
<li><a href="https://github.com/JaeYeopHan/gatsby-post-gen">https://github.com/JaeYeopHan/gatsby-post-gen</a></li>
</ul></section><hr/><footer><div style="margin-bottom:40px"><a class="tag" href="/tags?tag=gatsby">gatsby</a><a class="tag" href="/tags?tag=개츠비">개츠비</a><a class="tag" href="/tags?tag=blog">blog</a><a class="tag" href="/tags?tag=블로그">블로그</a><a class="tag" href="/tags?tag=글쓰기">글쓰기</a></div><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/5f9f01fc0b442399571b1f0d34b58dce/d4bf4/profile-pic.avif 50w,/static/5f9f01fc0b442399571b1f0d34b58dce/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/5f9f01fc0b442399571b1f0d34b58dce/3faea/profile-pic.webp 50w,/static/5f9f01fc0b442399571b1f0d34b58dce/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/5f9f01fc0b442399571b1f0d34b58dce/e5610/profile-pic.png" data-srcset="/static/5f9f01fc0b442399571b1f0d34b58dce/e5610/profile-pic.png 50w,/static/5f9f01fc0b442399571b1f0d34b58dce/e9b55/profile-pic.png 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/5f9f01fc0b442399571b1f0d34b58dce/d4bf4/profile-pic.avif 50w,/static/5f9f01fc0b442399571b1f0d34b58dce/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/5f9f01fc0b442399571b1f0d34b58dce/3faea/profile-pic.webp 50w,/static/5f9f01fc0b442399571b1f0d34b58dce/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/5f9f01fc0b442399571b1f0d34b58dce/e5610/profile-pic.png" srcSet="/static/5f9f01fc0b442399571b1f0d34b58dce/e5610/profile-pic.png 50w,/static/5f9f01fc0b442399571b1f0d34b58dce/e9b55/profile-pic.png 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p>Written by <strong>loel</strong> <br/>Backend developer</p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2021_11/02_gatsby_personalization/">← <!-- -->개츠비로 블로그 시작하기 - 개인화</a></li><li><a rel="next" href="/2021_11/04_gatsby_customization_2_toc/">개츠비로 블로그 시작하기 - 커스터마이징 (2)<!-- --> →</a></li></ul></nav><div class="table-of-contents" style="right:calc(10vw);position:fixed;top:180px"><ul>
<li><a href="#1-%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C">1. 들어가기에 앞서</a></li>
<li><a href="#2-%EB%B8%94%EB%A1%9C%EA%B7%B8-%ED%85%9C%ED%94%8C%EB%A6%BF">2. 블로그 템플릿</a></li>
<li><a href="#3-%EC%B6%94%EA%B0%80%ED%95%A0-%EA%B8%B0%EB%8A%A5-%EB%A6%AC%EC%8A%A4%ED%8A%B8%EC%97%85">3. 추가할 기능 리스트업</a></li>
<li><a href="#4-%EA%B8%80%EC%93%B0%EA%B8%B0-%EA%B8%B0%EB%8A%A5-%EB%B6%84%EC%84%9D">4. 글쓰기 기능 분석</a></li>
<li><a href="#5-%EA%B8%80%EC%93%B0%EA%B8%B0-%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84">5. 글쓰기 기능 구현</a></li>
<li><a href="#reference">Reference</a></li>
</ul></div></main><footer>Copyright © <!-- -->2021<!-- --> <!-- -->loelheim<!-- --> All rights reserved.<!-- --> <br/>Built with <!-- --> <!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2021_11/03_gatsby_customization_1_writing/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-14e0012b16034d67448d.js"],"app":["/app-99111e41c9be7a3b0c6b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-72901f4fd5f8f9601243.js"],"component---src-pages-index-js":["/component---src-pages-index-js-4f1501ff51c22850c941.js"],"component---src-pages-search-js":["/component---src-pages-search-js-8e98fa834fcbdfe57771.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-db23dd28a2695260252b.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-40445c3deb5430fd6690.js"]};/*]]>*/</script><script src="/polyfill-14e0012b16034d67448d.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-40445c3deb5430fd6690.js" async=""></script><script src="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-609403dfd4c51ec95e7c.js" async=""></script><script src="/573b27ab57743726e9d32c2d29ca767494f9c99f-fce3248f1a042b2435ab.js" async=""></script><script src="/commons-93657fdebe4187bbe246.js" async=""></script><script src="/2852872c-b2b17e6d0848f7e31174.js" async=""></script><script src="/cb1608f2-a114316b1cb3096fafcd.js" async=""></script><script src="/app-99111e41c9be7a3b0c6b.js" async=""></script><script src="/framework-91fcb8688cfb06592c2c.js" async=""></script><script src="/webpack-runtime-c580888eb32eb323ac10.js" async=""></script></body></html>